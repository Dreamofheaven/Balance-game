{% extends 'base.html' %}
{% load static %}
{% block title %}detail{% endblock title %}
{% block style %}
{% comment %} 
.card {
  width : 348px;
  height: 332px;
} {% endcomment %}

.card-footer a {
  font-weight: normal;
}

.card-footer {
  height: 43px;
}
.card-footer-input {
  line-height: 43px;
}

{% endblock style %} 
{% block body %}
<div class="mb-3 d-flex justify-content-between align-items-center">
  <div class="col-sm-8">
    <h2 class="mb-0">🤼 {{ post.title }}</h2>
    <span class="text-muted">작성자: <a href="{% url 'accounts:profile' post.user.username %}">{{ post.user.username }}</a></span>
  </div> 
  <div class="col-sm-4 d-flex justify-content-end">
    <a href="{% url 'posts:index' %}" class="btn btn-outline-primary btn-sm">뒤로 가기</a>
    <form method="POST" action="{% url 'posts:delete' post.pk %}">
      {% csrf_token %}
      <input type="submit" value="   삭제   " class="btn btn-outline-danger btn-sm mx-2">
    </form>
  </div>
</div>
  {% comment %} <form action="{% url 'posts:answer' post.pk %}" method ='POST'>
    <input type='submit'>{{ post.select1_content }}</input>
    <input type='submit'>{{ post.select2_content }}</input>
  </form> {% endcomment %}

{% comment %} 
  <p>{{ post.select1_content }}: {{ post.select1_users }}</p>
  <p>{{ post.select2_content }}: {{ post.select2_users }}</p> {% endcomment %}
  
  <div class="row align-items-center justify-content-center">

    <div class="col-md-5 d-flex justify-content-end">
      <div class="card" style="width:100%">
        <div class="card-body text-center">
          <!-- 이미지 -->
          <img src="{{ post.image1.url }}" alt="img1" style="width:100%">
        </div>
        <form method="POST" action="{% url 'posts:answer' post.pk 'select1' %}">
          {% csrf_token %}
          <div class="card-footer text-center p-0">
            <a href="{% url 'posts:detail' post.pk %}">
              <input type="submit" class="border-0 w-100 bg-transparent card-footer-input" value="{{ post.select1_content }} - {{ post.select1_users.count }}명">
            </a>
          </div>
        </form>
      </div>
    </div>
    <div class="col-md-2">
      <h2 class="text-center">VS</h2>
    </div>
    <div class="col-md-5">
      <div class="card" style="width:100%">
        <div class="card-body text-center">
          <!-- 이미지 -->
          <img src="{{post.image2.url}}" alt="image2" style="width:100%">
        </div>
        <form method="POST" action="{% url 'posts:answer' post.pk 'select2' %}">
          {% csrf_token %}
            <div class="card-footer text-center p-0">
              <a href="{% url 'posts:detail' post.pk %}">
                <input type="submit" class="border-0 w-100 bg-transparent card-footer-input" value="{{ post.select2_content }} - {{ post.select2_users.count }}명">
              </a>
            </div>
          </form>
        </div>
    </div>
  </div>  
  <h5 class="mt-3">댓글 목록</h5>
  <div>댓글 개수: {{ post.comment_set.count }}</div>
  <div class="mt-3 mb-2">
    <form action="{% url 'posts:comment_create' post.pk %}" method="POST">
      {% csrf_token %}
      {{ comment_form.content }}
      <input type="submit" value="작성" class="btn btn-outline-primary btn-sm">
    </form>
  </div>
  {% for comment in comments %}
    <li class="comment-item mb-1" style="list-style:none"></li>
      <div class="comment-author"><a href="{% url 'accounts:profile' comment.user.username %}">{{ comment.user.username }}</a>: {{ comment.content }}</div>
    </li>
  {% endfor %} 
{% endblock body %}

